<head>
  <title>adding fractions</title>
  <h1>adding fractions</h1>
  <style>
    .frac {
    display: inline-block;
    position: relative;
    vertical-align: middle;
    letter-spacing: 0.001em;
    text-align: center;
}
.frac > span {
    display: block;
    padding: 0.1em;
}
.div neg {
    display: inline;
}
.frac span.bottom {
    border-top: thin solid black;
}
.frac span.bottom2 {
    border-top: thin solid black;
}
.frac span.symbol {
    display: none;
} 
    </style>
</head>
<body>
  <p>let's start by adding fractions. To add fractions, you need to add the top numbers. If it is different signs, subtract the top numbers. (don't simpilify)</p>
  <span id="neg1"></span>
  <div class="frac">
    <span id="num">1</span>
    <span class="symbol"/></span>
    <span class="bottom" id="den">5</span>
  </div>
  +
  <span id="neg2">-</span>
  <div class="frac">
    <span id = "num2">2</span>
    <span class="symbol"></span>
    <span class="bottom" id="den2">5</span>
  </div>
  <br>
  <input type="text" id="your answer"></input>
  <button id="checkAnswer" onclick="checkAnswer()">check</button>
  <div id="answer"></div>
  <script>
    const num1 = Math.round(Math.random() * 4 + 1);
    const num2 = Math.round(Math.random() * 4 + 1);
    const den = Math.round(Math.random() * 10+3);
    const neg1 = Math.random() < 0.5 ? -1 : 1;
    const neg2 = Math.random() < 0.5 ? -1 : 1;
    var correct = 0;
    resetQuestion();
    const answer = ((num1 * neg1 ) + (num2 * neg2)).toString() + "/" + den.toString();
    function checkAnswer(){
      const text = document.getElementById("your answer").value;
      if(text == answer){
        document.getElementById("answer").innerText = "correct!";
        correct += 1;
        if(correct == 3){
          var next = document.createElement("BUTTON");
          next.innerText = "next";
          next.addEventListener("click", nextPage);
          document.body.appendChild(next);
        } else {
          resetQuestion();
        }
      } else {
        document.getElementById("answer").innerText = "incorrect. Try reading the explanation again.";
        resetQuestion();
      }
    }
    function resetQuestion(){
      num1 = Math.round(Math.random() * 3 + 1);
      num2 = Math.round(Math.random() * 3 + 1);
      den = Math.round(Math.random() * 5 + 5);
      neg1 = Math.random() < 0.5 ? -1 : 1;
      neg2 = Math.random() < 0.5 ? -1 : 1;
      document.getElementById("neg1").innerText = neg1.toString().replace("1", "");
      document.getElementById("neg2").innerText = neg2.toString().replace("1", "");
      document.getElementById("num").innerText = num1;
      document.getElementById("num2").innerText = num2;
      document.getElementById("den").innerText = den;
      document.getElementById("den2").innerText = den;   
    }
    function nextPage(){
      window.location.assign("/mathIsFun/fractions2.html");
    }
</script>
</body>
